<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Flask on Docker</title>
    <!-- meta -->
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- favicon example -->
    <link rel="icon" href="{{url_for('static', filename='img/favicon.png')}}" type="image/gif" sizes="16x16">

    <!-- js -->
    <script src="{{url_for('static', filename='js/custom.js')}}"></script>

    <!-- styles -->
    <!-- Bluma -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" rel="stylesheet">

    <!-- Custom -->
    <link href="{{url_for('static', filename='css/custom.css')}}" rel="stylesheet">

    <!-- Bootstrap -->
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous"> -->
    {% block css %}{% endblock %}
  </head>
  <body>
    <div class="container">
      <br>
      <h1 id=title class="title">New User</h1>
      <hr><br>
      <form action="/" method="POST">
        <div class="columns">
          <div class="column is-half">
            <div class="field">
              <label class="label">Name</label>
              <div class="control">
                <input name="username" class="input" type="text" placeholder="Enter a username" required>
              </div>
            </div>
            <div class="field">
              <label class="label">Email</label>
              <div class="control">
                <input name="email" class="input" type="email" placeholder="Enter an email address" required>
              </div>
            </div>
            <div class="field">
              <label class="label">Email</label>
              <div class="control">
                <input name="password" class="input" type="password" placeholder="Password">
              </div>
            </div>
            <div class="field">
              <label class="label">Video url</label>
              <div class="control">
                <input id="video_url" name="video" class="input" placeholder="Enter a youtube embedded url">
              </div>
            </div>
            <input
              type="submit" class="button is-primary is-fullwidth"
              value="Submit">
            <br>
          </div>
          <div class="column is-half">
            <label class="label">Click/Drag the lion</label>
            <img src="{{url_for('static', filename='img/lion.jpg')}}" class="grab" draggable="true" onclick="click_lion()" ondragstart="grab_lion()" alt="Lion">
          </div>
        </div>
      </form>
      {% if users %}
          <h1 class="title">List of Users</h1>
          <table class="table is-striped">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Video</th>
              </tr>
            </thead>
            <tbody>
              {% for user in users %}
                </tr>
                  <td>{{user.id}}</td>
                  <td>{{user.username}}</td>
                  <td>{{user.email}}</td>
                  <td>
                    <iframe width="420" height="315"
                      src={{user.video}}>
                    </iframe>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
      {% else %}
          <p>No users at the moment!</p>
      {% endif %}
    </div>
    {% block js %}{% endblock %}
  </body>
</html>
